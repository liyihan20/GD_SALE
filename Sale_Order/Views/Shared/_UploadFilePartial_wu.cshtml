@{
    Layout = null;
}
<link href="@Url.Content("~/Scripts/webuploader/webuploader.css")" rel="stylesheet" type="text/css" />
<script src="@Url.Content("~/Scripts/webuploader/webuploader.withoutimage.js")" type="text/javascript"></script>
<script type="text/javascript">
    $(function () {
        //上传插件
        var uploader = WebUploader.create({
            // swf文件路径
            swf: '@Url.Content("~/Scripts/webuploader/Uploader.swf")',
            // 文件接收服务端。
            server: '@Url.Content("~/Saler/UploadFileWu")',
            // 选择文件的按钮。可选。
            // 内部根据当前运行时创建，可能是input元素，也可能是flash.
            pick: '#picker',
            accept: {
                title: 'rar压缩文件',
                extensions: 'rar',
                mimeTypes: '.rar'
            },
            auto: 'true',
            formData: { "num": $("#sys_no").val() },            
            fileSingleSizeLimit: 10 * 1024 * 1024
        });

        uploader.on('fileQueued', function (file) {
            console.log(file);
            var d = new Date();
            var time = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + d.getHours() + ":" + d.getMinutes();
            $("#up_name").html(file.name);
            $("#up_size").html(Math.round(file.size / 1024) + "K");
            $("#up_time").html(time);

        });        

        uploader.on('uploadSuccess', function (file) {
            console.log("上传成功");
        });

        uploader.on('uploadError', function (file) {
            console.log("上传出错");
        });

        uploader.on('uploadComplete', function (file) {
            console.log("上传完成");
        });
    });

</script>
<div class="easyui-panel" style="background: #fafafa;padding:10px;width:800px;" title="@Html.Lang("upload_file")">
    <div id="uploader" style="width: 450px; float: left;">
        <div id="thelist" class="uploader-list"></div>
        <div class="btns">
            <div id="picker">选择文件</div>
        </div>
    </div>
    <div id="uploadInfo" style="width: 300px; margin-left: 20px; float: left;">
        @Html.Lang("file_name")：<span id="up_name" style="color: red"></span><br />
        @Html.Lang("file_size")：<span id="up_size" style="color: red"></span><br />
        @Html.Lang("upload_time")：<span id="up_time" style="color: red"></span>
    </div>
</div>
